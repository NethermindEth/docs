"use strict";(globalThis.webpackChunknethermind_docs=globalThis.webpackChunknethermind_docs||[]).push([[3672],{1470:(e,n,t)=>{t.d(n,{A:()=>v});var o=t(6540),i=t(4164),a=t(7559),r=t(3104),s=t(6347),l=t(205),d=t(7485),c=t(1682),h=t(679);function u(e){return o.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,o.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function p(e){const{values:n,children:t}=e;return(0,o.useMemo)(()=>{const e=n??function(e){return u(e).map(({props:{value:e,label:n,attributes:t,default:o}})=>({value:e,label:n,attributes:t,default:o}))}(t);return function(e){const n=(0,c.XI)(e,(e,n)=>e.value===n.value);if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[n,t])}function m({value:e,tabValues:n}){return n.some(n=>n.value===e)}function f({queryString:e=!1,groupId:n}){const t=(0,s.W6)(),i=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,d.aZ)(i),(0,o.useCallback)(e=>{if(!i)return;const n=new URLSearchParams(t.location.search);n.set(i,e),t.replace({...t.location,search:n.toString()})},[i,t])]}function x(e){const{defaultValue:n,queryString:t=!1,groupId:i}=e,a=p(e),[r,s]=(0,o.useState)(()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!m({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const t=n.find(e=>e.default)??n[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:n,tabValues:a})),[d,c]=f({queryString:t,groupId:i}),[u,x]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[t,i]=(0,h.Dv)(n);return[t,(0,o.useCallback)(e=>{n&&i.set(e)},[n,i])]}({groupId:i}),g=(()=>{const e=d??u;return m({value:e,tabValues:a})?e:null})();(0,l.A)(()=>{g&&s(g)},[g]);return{selectedValue:r,selectValue:(0,o.useCallback)(e=>{if(!m({value:e,tabValues:a}))throw new Error(`Can't select invalid tab value=${e}`);s(e),c(e),x(e)},[c,x,a]),tabValues:a}}var g=t(2303);const j={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var b=t(4848);function L({className:e,block:n,selectedValue:t,selectValue:o,tabValues:a}){const s=[],{blockElementScrollPositionUntilNextRender:l}=(0,r.a_)(),d=e=>{const n=e.currentTarget,i=s.indexOf(n),r=a[i].value;r!==t&&(l(n),o(r))},c=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const t=s.indexOf(e.currentTarget)+1;n=s[t]??s[0];break}case"ArrowLeft":{const t=s.indexOf(e.currentTarget)-1;n=s[t]??s[s.length-1];break}}n?.focus()};return(0,b.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.A)("tabs",{"tabs--block":n},e),children:a.map(({value:e,label:n,attributes:o})=>(0,b.jsx)("li",{role:"tab",tabIndex:t===e?0:-1,"aria-selected":t===e,ref:e=>{s.push(e)},onKeyDown:c,onClick:d,...o,className:(0,i.A)("tabs__item",j.tabItem,o?.className,{"tabs__item--active":t===e}),children:n??e},e))})}function w({lazy:e,children:n,selectedValue:t}){const a=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=a.find(e=>e.props.value===t);return e?(0,o.cloneElement)(e,{className:(0,i.A)("margin-top--md",e.props.className)}):null}return(0,b.jsx)("div",{className:"margin-top--md",children:a.map((e,n)=>(0,o.cloneElement)(e,{key:n,hidden:e.props.value!==t}))})}function k(e){const n=x(e);return(0,b.jsxs)("div",{className:(0,i.A)(a.G.tabs.container,"tabs-container",j.tabList),children:[(0,b.jsx)(L,{...n,...e}),(0,b.jsx)(w,{...n,...e})]})}function v(e){const n=(0,g.A)();return(0,b.jsx)(k,{...e,children:u(e.children)},String(n))}},5834:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>p,frontMatter:()=>l,metadata:()=>o,toc:()=>h});const o=JSON.parse('{"id":"get-started/running-node/l2-networks","title":"Layer 2 networks","description":"- Running a Layer 2 (L2) node requires access to a Layer (L1) node\u2014either on-premises or an external RPC provider. If you also plan to run an L1 node with Nethermind, note that you will need two Nethermind instances\u2014one for the L1 node and another for the L2 node.","source":"@site/versioned_docs/version-1.34.0/get-started/running-node/l2-networks.md","sourceDirName":"get-started/running-node","slug":"/get-started/running-node/l2-networks","permalink":"/1.34.0/get-started/running-node/l2-networks","draft":false,"unlisted":false,"editUrl":"https://github.com/NethermindEth/docs/tree/main/versioned_docs/version-1.34.0/get-started/running-node/l2-networks.md","tags":[],"version":"1.34.0","lastUpdatedAt":1762362073000,"sidebarPosition":2,"frontMatter":{"title":"Layer 2 networks","sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Consensus clients","permalink":"/1.34.0/get-started/running-node/consensus-clients"},"next":{"title":"Migrating from Geth","permalink":"/1.34.0/get-started/migrating-from-geth"}}');var i=t(4848),a=t(8453),r=t(1470),s=t(9365);const l={title:"Layer 2 networks",sidebar_position:2},d=void 0,c={},h=[{value:"OP Stack",id:"op-stack",level:2},{value:"Running Nethermind with <code>op-node</code>",id:"running-nethermind-with-op-node",level:3},{value:"Running Nethermind with the built-in Rollup node",id:"running-nethermind-with-the-built-in-rollup-node",level:3},{value:"Taiko",id:"taiko",level:2}];function u(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.admonition,{title:"Before you begin",type:"info",children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Running a Layer 2 (L2) node requires access to a Layer (L1) node\u2014either on-premises or an external RPC provider. If you also plan to ",(0,i.jsx)(n.a,{href:"/1.34.0/get-started/running-node/#ethereum",children:"run an L1 node with Nethermind"}),", note that you will need two Nethermind instances\u2014one for the L1 node and another for the L2 node."]}),"\n",(0,i.jsx)(n.li,{children:"If both the L1 and L2 nodes run on the same machine, ensure they use different ports and data directories."}),"\n"]})}),"\n",(0,i.jsx)(n.h2,{id:"op-stack",children:"OP Stack"}),"\n",(0,i.jsxs)(n.p,{children:["An ",(0,i.jsx)(n.a,{href:"https://docs.optimism.io/builders/node-operators/architecture",children:"Optimism node"})," consists of two parts: a Rollup node, analogous to a consensus client in Ethereum, paired with an L2 execution client. The official Rollup node is ",(0,i.jsx)(n.code,{children:"op-node"}),", developed and maintained by the Optimism Collective. Alternatively, Nethermind is also bundled with its own Rollup node, developed and maintained by the Nethermind team."]}),"\n",(0,i.jsxs)(n.h3,{id:"running-nethermind-with-op-node",children:["Running Nethermind with ",(0,i.jsx)(n.code,{children:"op-node"})]}),"\n",(0,i.jsx)(n.admonition,{title:"Important",type:"warning",children:(0,i.jsxs)(n.p,{children:["Similar to the L1 node, the L2 instance of Nethermind also requires a ",(0,i.jsx)(n.a,{href:"/1.34.0/get-started/running-node/consensus-clients#configuring-json-rpc-interface",children:"properly configured"})," Engine API to communicate to ",(0,i.jsx)(n.code,{children:"op-node"}),"."]})}),"\n",(0,i.jsxs)(r.A,{groupId:"network",children:[(0,i.jsxs)(s.A,{value:"op-mainnet",label:"OP Mainnet",children:[(0,i.jsx)(n.admonition,{title:"Note",type:"info",children:(0,i.jsx)(n.p,{children:"For OP Mainnet, the L1 node must be running on Ethereum Mainnet."})}),(0,i.jsx)(n.p,{children:"To run Nethermind on the OP Mainnet, use the following command:"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"nethermind \\\n  -c op-mainnet \\\n  --data-dir path/to/data/dir \\\n  --jsonrpc-jwtsecretfile path/to/jwt.hex\n"})}),(0,i.jsxs)(n.p,{children:["Below is a sample command to run ",(0,i.jsx)(n.code,{children:"op-node"})," paired with Nethermind, assuming they both are running on the same machine:"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"export L1_RPC_URL=... # The URL of the L1 node RPC interface\nexport L1_BEACON_URL=... # The URL of the L1 node Beacon interface\n\nop-node \\\n  --l1=$L1_RPC_URL \\\n  --l1.rpckind=standard \\\n  --l1.beacon=$L1_BEACON_URL \\\n  --l2=http://localhost:8551 \\\n  --l2.jwt-secret=path/to/jwt.hex \\\n  --syncmode=execution-layer \\\n  --network=op-mainnet\n"})})]}),(0,i.jsxs)(s.A,{value:"op-sepolia",label:"OP Sepolia",children:[(0,i.jsx)(n.admonition,{title:"Note",type:"info",children:(0,i.jsx)(n.p,{children:"For OP Sepolia, the L1 node must be running on Sepolia."})}),(0,i.jsx)(n.p,{children:"To run Nethermind on the OP Sepolia, use the following command:"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"nethermind \\\n  -c op-sepolia \\\n  --data-dir path/to/data/dir \\\n  --jsonrpc-jwtsecretfile path/to/jwt.hex\n"})}),(0,i.jsxs)(n.p,{children:["Below is a sample command to run ",(0,i.jsx)(n.code,{children:"op-node"})," paired with Nethermind, assuming they both are running on the same machine:"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"export L1_RPC_URL=... # The URL of the L1 node RPC interface\nexport L1_BEACON_URL=... # The URL of the L1 node Beacon interface\n\nop-node \\\n  --l1=$L1_RPC_URL \\\n  --l1.rpckind=standard \\\n  --l1.beacon=$L1_BEACON_URL \\\n  --l2=http://localhost:8551 \\\n  --l2.jwt-secret=path/to/jwt.hex \\\n  --syncmode=execution-layer \\\n  --network=op-sepolia\n"})})]})]}),"\n",(0,i.jsxs)(n.p,{children:["For available settings, see ",(0,i.jsxs)(n.a,{href:"https://docs.optimism.io/builders/node-operators/configuration/consensus-config",children:[(0,i.jsx)(n.code,{children:"op-node"})," configuration options"]}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"running-nethermind-with-the-built-in-rollup-node",children:"Running Nethermind with the built-in Rollup node"}),"\n",(0,i.jsxs)(n.p,{children:["Instead of running a separate ",(0,i.jsx)(n.code,{children:"op-node"})," instance alongside Nethermind, it's enough to run only Nethermind with Rollup node enabled. That simplifies the setup and configuration, and just like the ",(0,i.jsx)(n.code,{children:"op-node"}),", Nethermind will need to know about an L1 RPC and Beacon nodes."]}),"\n",(0,i.jsxs)(r.A,{groupId:"network",children:[(0,i.jsxs)(s.A,{value:"op-mainnet",label:"OP Mainnet",children:[(0,i.jsx)(n.admonition,{title:"Note",type:"info",children:(0,i.jsx)(n.p,{children:"For OP Mainnet, the L1 node must be running on Ethereum Mainnet."})}),(0,i.jsx)(n.p,{children:"To run Nethermind on the OP Mainnet using the built-in Rollup node, use the following command:"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"export L1_RPC_URL=... # The URL of the L1 node RPC interface\nexport L1_BEACON_URL=... # The URL of the L1 node Beacon interface\n\nnethermind \\\n  -c op-mainnet \\\n  --data-dir path/to/data/dir \\\n  --jsonrpc-jwtsecretfile path/to/jwt.hex \\\n  --optimism-clenabled \\\n  --optimism-l1ethapiendpoint $L1_RPC_URL \\\n  --optimism-l1beaconapiendpoint $L1_BEACON_URL\n"})})]}),(0,i.jsxs)(s.A,{value:"op-sepolia",label:"OP Sepolia",children:[(0,i.jsx)(n.admonition,{title:"Note",type:"info",children:(0,i.jsx)(n.p,{children:"For OP Sepolia, the L1 node must be running on Sepolia."})}),(0,i.jsx)(n.p,{children:"To run Nethermind on the OP Sepolia using the built-in Rollup node, use the following command:"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"nethermind \\\n  -c op-sepolia \\\n  --data-dir path/to/data/dir \\\n  --jsonrpc-jwtsecretfile path/to/jwt.hex \\\n  --optimism-clenabled \\\n  --optimism-l1ethapiendpoint $L1_RPC_URL \\\n  --optimism-l1beaconapiendpoint $L1_BEACON_URL\n"})})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"See also"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/1.34.0/fundamentals/configuration#optimism",children:"Optimism configuration"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://docs.optimism.io/builders/node-operators/rollup-node",children:"Run a node in the Superchain"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"taiko",children:"Taiko"}),"\n",(0,i.jsxs)(n.p,{children:["A ",(0,i.jsx)(n.a,{href:"https://docs.taiko.xyz/taiko-alethia-protocol/taiko-alethia-nodes",children:"Taiko node"})," consists of two parts: taiko-client, analogous to a consensus client in Ethereum paired with an L2 execution client."]}),"\n",(0,i.jsx)(n.admonition,{title:"Important",type:"warning",children:(0,i.jsxs)(n.p,{children:["Similar to the L1 node, the L2 instance of Nethermind also requires a ",(0,i.jsx)(n.a,{href:"/1.34.0/get-started/running-node/consensus-clients#configuring-json-rpc-interface",children:"properly configured"})," Engine API to communicate to taiko-client."]})}),"\n",(0,i.jsxs)(r.A,{groupId:"network",children:[(0,i.jsxs)(s.A,{value:"taiko-alethia",label:"Taiko Alethia",children:[(0,i.jsx)(n.admonition,{title:"Note",type:"info",children:(0,i.jsx)(n.p,{children:"For Taiko Alethia, the L1 node must be running on Ethereum Mainnet."})}),(0,i.jsx)(n.p,{children:"To run Nethermind on Taiko Alethia, use the following command:"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"nethermind \\\n  -c taiko-alethia \\\n  --data-dir path/to/data/dir \\\n  --jsonrpc-jwtsecretfile path/to/jwt.hex\n"})}),(0,i.jsx)(n.p,{children:"Below is a sample command to run taiko-client paired with Nethermind, assuming they both are running on the same machine:"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"export L1_WS_URL=... # The URL of the L1 node WebSocket interface\nexport L1_BEACON_URL=... # The URL of the L1 node Beacon interface\n\ntaiko-client driver \\\n  --l1.ws $L1_WS_URL \\\n  --l1.beacon $L1_BEACON_URL \\\n  --l2.ws ws://localhost:8545 \\\n  --taikoL1 0x06a9Ab27c7e2255df1815E6CC0168d7755Feb19a \\\n  --taikoL2 0x1670000000000000000000000000000000010001 \\\n  --jwtSecret path/to/jwt.hex \\\n  --l2.auth http://localhost:8551 \\\n  --verbosity 3 \\\n  --p2p.sync \\\n  --p2p.checkPointSyncUrl https://rpc.mainnet.taiko.xyz\n"})})]}),(0,i.jsxs)(s.A,{value:"taiko-hekla",label:"Taiko Hekla",children:[(0,i.jsx)(n.admonition,{title:"Note",type:"info",children:(0,i.jsx)(n.p,{children:"For Taiko Hekla, the L1 node must be running on Holesky."})}),(0,i.jsx)(n.p,{children:"To run Nethermind on Taiko Hekla, use the following command:"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"nethermind \\\n  -c taiko-hekla \\\n  --data-dir path/to/data/dir \\\n  --jsonrpc-jwtsecretfile path/to/jwt.hex\n"})}),(0,i.jsx)(n.p,{children:"Below is a sample command to run taiko-client paired with Nethermind, assuming they both are running on the same machine:"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"export L1_WS_URL=... # The URL of the L1 node WebSocket interface\nexport L1_BEACON_URL=... # The URL of the L1 node Beacon interface\n\ntaiko-client driver \\\n  --l1.ws $L1_WS_URL \\\n  --l1.beacon $L1_BEACON_URL \\\n  --l2.ws ws://localhost:8545 \\\n  --taikoL1 0x79C9109b764609df928d16fC4a91e9081F7e87DB \\\n  --taikoL2 0x1670090000000000000000000000000000010001 \\\n  --jwtSecret path/to/jwt.hex \\\n  --l2.auth http://localhost:8551 \\\n  --verbosity 3 \\\n  --p2p.sync \\\n  --p2p.checkPointSyncUrl https://rpc.hekla.taiko.xyz\n"})})]})]}),"\n",(0,i.jsxs)(n.p,{children:["For more information about the taiko-client, see its ",(0,i.jsx)(n.a,{href:"https://github.com/taikoxyz/taiko-mono/tree/main/packages/taiko-client#readme",children:"README"}),"."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"See also"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://docs.taiko.xyz/guides/node-operators/enable-a-proposer/",children:"Run a Taiko proposer"})}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>s});var o=t(6540);const i={},a=o.createContext(i);function r(e){const n=o.useContext(a);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),o.createElement(a.Provider,{value:n},e.children)}},9365:(e,n,t)=>{t.d(n,{A:()=>r});t(6540);var o=t(4164);const i={tabItem:"tabItem_Ymn6"};var a=t(4848);function r({children:e,hidden:n,className:t}){return(0,a.jsx)("div",{role:"tabpanel",className:(0,o.A)(i.tabItem,t),hidden:n,children:e})}}}]);