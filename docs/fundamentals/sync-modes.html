<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-fundamentals/sync-modes">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Sync modes | Nethermind Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://nethermind.github.io/docs/docs/fundamentals/sync-modes"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Sync modes | Nethermind Documentation"><meta data-rh="true" name="description" content="There are three main synchronization modes"><meta data-rh="true" property="og:description" content="There are three main synchronization modes"><link data-rh="true" rel="icon" href="/docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://nethermind.github.io/docs/docs/fundamentals/sync-modes"><link data-rh="true" rel="alternate" href="https://nethermind.github.io/docs/docs/fundamentals/sync-modes" hreflang="en"><link data-rh="true" rel="alternate" href="https://nethermind.github.io/docs/docs/fundamentals/sync-modes" hreflang="x-default"><link rel="stylesheet" href="/docs/assets/css/styles.5543b531.css">
<link rel="preload" href="/docs/assets/js/runtime~main.67a1c494.js" as="script">
<link rel="preload" href="/docs/assets/js/main.6b78a1aa.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/"><b class="navbar__title text--truncate">Nethermind</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/NethermindEth/nethermind" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/docs">Welcome to Nethermind</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/docs/category/getting-started">Getting Started</a><button aria-label="Toggle the collapsible sidebar category &#x27;Getting Started&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/docs/category/fundamentals">Fundamentals</a><button aria-label="Toggle the collapsible sidebar category &#x27;Fundamentals&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/docs/fundamentals/running-nethermind/running-the-client">running-nethermind</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/docs/fundamentals/sync-modes">Sync modes</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/docs/fundamentals/configuration">Configuration</a><button aria-label="Toggle the collapsible sidebar category &#x27;Configuration&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/docs/fundamentals/security">Security</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/docs/fundamentals/logs/logging-configuration">logs</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/docs/fundamentals/database">Database</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/docs/fundamentals/how-to-reduce-database-size">How to reduce database size</a><button aria-label="Toggle the collapsible sidebar category &#x27;How to reduce database size&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/docs/fundamentals/private-networks">Private Networks</a><button aria-label="Toggle the collapsible sidebar category &#x27;Private Networks&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/docs/fundamentals/running-nethermind-post-merge">Running Nethermind &amp; CL</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/docs/category/interacting-with-nethermind">Interacting With Nethermind</a><button aria-label="Toggle the collapsible sidebar category &#x27;Interacting With Nethermind&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/docs/category/monitoring">Monitoring</a><button aria-label="Toggle the collapsible sidebar category &#x27;Monitoring&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/docs/category/for-developers">For Developers</a><button aria-label="Toggle the collapsible sidebar category &#x27;For Developers&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/docs/category/nethermind-utilities">Nethermind Utilities</a><button aria-label="Toggle the collapsible sidebar category &#x27;Nethermind Utilities&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/docs/category/resources">Resources</a><button aria-label="Toggle the collapsible sidebar category &#x27;Resources&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/docs/category/contact-us">Contact Us</a><button aria-label="Toggle the collapsible sidebar category &#x27;Contact Us&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/docs/category/fundamentals"><span itemprop="name">Fundamentals</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Sync modes</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Sync modes</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="there-are-three-main-synchronization-modes">There are three main synchronization modes<a href="#there-are-three-main-synchronization-modes" class="hash-link" aria-label="Direct link to There are three main synchronization modes" title="Direct link to There are three main synchronization modes">​</a></h2><ul><li>snap sync<ul><li>the fastest way to sync to the network (syncs to mainnet in <!-- -->~<!-- -->3 hours)</li><li>downloads only the latest state, headers, and optionally bodies and receipts</li></ul></li><li>fast sync<ul><li>slower than snap sync</li><li>useful on nethermind-only chains (like Gnosis), where snap sync is not available for now</li><li>downloads only the latest state, headers, and optionally bodies and receipts</li></ul></li><li>archive sync<ul><li>heavy historical sync verifying all the transactions and keeping all the historical state</li><li>you can run it like this <code>./Nethermind.Runner --config mainnet_archive</code></li></ul></li></ul><table><thead><tr><th>Sync Mode</th><th>Disk Space needed</th><th>Full current state</th><th>Full current and all historical states</th><th>Can sync a full archive node from this</th><th>Time to sync</th><th>Time to RPC</th></tr></thead><tbody><tr><td>archive</td><td>~<!-- -->12TB</td><td>YES</td><td>YES</td><td>YES</td><td>~<!-- -->3 weeks</td><td>~<!-- -->3 weeks</td></tr><tr><td>snap/fast sync with all bodies and receipts</td><td>~<!-- -->800GB</td><td>YES</td><td>NO</td><td>YES</td><td>~<!-- -->20 hours</td><td>~<!-- -->20 hours</td></tr><tr><td>default snap/fast sync (with barriers set to support Eth2)</td><td>~<!-- -->500GB</td><td>YES</td><td>NO</td><td>NO</td><td>~<!-- -->11 hours</td><td>~<!-- -->11 hours</td></tr><tr><td>snap/fast sync without receipts</td><td>~<!-- -->450GB</td><td>YES</td><td>NO</td><td>YES</td><td>~<!-- -->12 hours</td><td>~<!-- -->12 hours</td></tr><tr><td>snap/fast sync without bodies and receipts</td><td>~<!-- -->200GB</td><td>YES</td><td>NO</td><td>NO</td><td>~<!-- -->9 hours</td><td>~<!-- -->9 hours</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="snap-sync">Snap Sync<a href="#snap-sync" class="hash-link" aria-label="Direct link to Snap Sync" title="Direct link to Snap Sync">​</a></h2><p>Snap sync allows a node to perform the initial synchronization and download of Ethereum’s state up to 10 times faster
than using fast sync.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-enable">How to Enable<a href="#how-to-enable" class="hash-link" aria-label="Direct link to How to Enable" title="Direct link to How to Enable">​</a></h4><p>Snap sync is enabled by default for majority of networks. To make sure, check if<code>SnapSync</code> is set to <code>true</code> in the Sync
module of your <code>.cfg</code> file</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&quot;Sync&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;SnapSync&quot;: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p><strong>IMPORTANT</strong>: Do not enable snap sync on a previously synced node. Only use when syncing to the network for the first
time.</p><p><strong>IMPORTANT</strong>: Do not remove other configurations from Sync module. Just add <code>&quot;SnapSync&quot;: true</code>, e.g.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&quot;Sync&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;SnapSync&quot;: true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;PivotNumber&quot;: 15011000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;PivotHash&quot;: &quot;0x46c838d02d5fa5bc070080ed7965da1d888f6eb1797045365407c7011280af56&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;PivotTotalDifficulty&quot;: &quot;52367203434576253689712&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;FastBlocks&quot;: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></blockquote><h4 class="anchor anchorWithStickyNavbar_LWe7" id="snap-sync-vs-other-sync-modes">Snap Sync vs Other Sync Modes<a href="#snap-sync-vs-other-sync-modes" class="hash-link" aria-label="Direct link to Snap Sync vs Other Sync Modes" title="Direct link to Snap Sync vs Other Sync Modes">​</a></h4><p>More than 12TB of storage is needed today to run a full archive node — one that stores all the state since genesis.
Because of that, setting up an archive node can take days or even weeks. Fast Sync can still take more than 24 hours on
the fast machine and download about 90GB state data. With Snap Sync, sync time is reduced to 2-3h with a download of
about 30GB.</p><p>This reduction in sync time and download size has to do with the specific way in which Ethereum’s state is stored in a
node: Merkle trees.</p><p><img loading="lazy" src="/docs/assets/images/Untitled(1)-e656672bbe5916256187472154cefdbf.png" width="1168" height="939" class="img_ev3q"></p><p>With Fast Sync, a node downloads the headers of each block and retrieves all the nodes beneath it until it reaches the
leaves. By contrast, Snap Sync only downloads the leaf nodes, generating the remaining nodes locally which saves time
and packets downloaded.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="current-limitations-and-future-development">Current limitations and future development<a href="#current-limitations-and-future-development" class="hash-link" aria-label="Direct link to Current limitations and future development" title="Direct link to Current limitations and future development">​</a></h4><p>For now Snap Sync on the Nethermind client can only download the Ethereum state but not serve it to other clients - snap
serving development is in progress, expected late 2023/early 2024.</p><p>The only Ethereum client that supports serving Snap Sync requests is Geth, so only networks supported by Geth can be
synced using that method: Mainnet, Goerli, Sepolia.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="fast-sync">Fast Sync<a href="#fast-sync" class="hash-link" aria-label="Direct link to Fast Sync" title="Direct link to Fast Sync">​</a></h2><p>After completing the fast sync your node will have the ability to answer questions like <em>&#x27;what is my account
balance <strong>now</strong>&#x27;</em>, <em>&#x27;how many XYZ tokens SomeExchange holds <strong>at the moment</strong>&#x27;</em>.</p><p>Fast sync has multiple stages. Nethermind uses a <code>pivot block</code> number to improve fast sync performance.
The <code>pivot block</code> data is automatically updated after initialization of the client and consists of
the <code>block number</code>, <code>block hash</code> and <code>block total difficulty</code> (please note that <code>total difficulty</code> is different
than <code>difficulty</code>). Before synchronizing state data Nethermind synchronizes in two directions - backwards
from <code>pivot block</code> to 0 for headers and forward to the head of the chain for headers, blocks and receipts. Forward sync
might be very slow (5 - 50 bps) so having fresh pivot block is very important - it is guaranteed by recently implemented
auto-update.</p><p>After downloading the block data Nethermind will start state sync (downloading the latest state trie nodes). We are
providing an estimate for the download size and progress but the real value may be different than the estimate (
especially if you are using an old version of Nethermind as we sometimes manually adjust the estimator based on our
observations of the chain growth rate). Because of this sometimes your sync may continue even when it shows <!-- -->~<!-- -->100%
finished. The other important component is the speed of your sync - if your IO / network / file system causes the state
sync to go much slower than around 1.5MB per second on average then you will start downloading some parts of the trie
over and over again. In such cases you may be surprised to see something like 58000MB / 53000MB (100%). It means that
you downloaded around 5GB of data that is no longer needed. If your sync is very slow (extended beyond two days) then
very likely your setup cannot catch up with the chain progress.</p><p>After the state sync finishes you will see the <em>&#x27;Processed...&#x27;</em> messages like in archive sync - it means that your node
is in sync and is processing the latest blocks.</p><p>Mainnet sync, at the time of writing (December 2020), takes around 8 hours on an UpCloud 16GB RAM 8 CPU $40 VM (and then
syncs receipts and bodies in the background if you enabled them in the configuration). Goerli sync should take around 40
minutes.</p><p><img loading="lazy" alt="Fast sync logs example for mainnet." src="/docs/assets/images/image(59)-e679a155889ccdf54fbff7695df20603.png" width="1920" height="1030" class="img_ev3q"></p><p>State sync log messages have multiple values displayed. First <code>dd.HH:mm:ss</code> total state sync time is displayed, followed
by an estimated sync progress (percentage of total database data synced), then the current download speed is displayed (
there will be times when it will slow down to 0 or single digit numbers, especially towards the end of the sync). In
general 6 hours sync times shown on screenshots are with around 2000 kB/s (kilobytes per second) average sync rate. You
can calculate it in the example as <!-- -->~<!-- -->45GB / (2MB/s) <!-- -->~<!-- --> 22500 seconds <!-- -->~<!-- -->6.25 hours. We also display the number of state
accounts synced, number of trie nodes synced and a diagnostic message in the format of <em>[<!-- -->number<!-- -->_<!-- -->of<!-- -->_<!-- -->pending<!-- -->_<!-- -->requests]
.<!-- -->[<!-- -->average time spent in response handler displayed as milliseconds]</em>. So <code>5.6.20ms</code> means that we are awaiting for
responses to 5 requests that have been sent to peers and the average time it takes us to process a single response is
6.20ms. The response handling times will differ depending on how many trie nodes are already cached (so they will be
significantly slower for a while after the node restart when cache has to be rebuilt) and based on how fast the database
IO is (SSD vs NVMe vs cloud drives). For a reasonable sync time you probably should expect these values to be below
15ms (but they may be as high as 700ms for a while after restarting the node).</p><p>A single restart of the node during the fast sync may extend the sync time by up to two hours because the node has to
rebuild the caches by reading millions of values from the database.</p><p>At the last stages of the sync the node will be repeatedly displaying the branch sync progress and changing the block
number to which it tries to catch up. This stage should take between 30 minutes and two hours. If it lasts much more
then it is possible that you will not be able to catch up with the network progress.</p><p>One of the best indicators that you are close to be synced is combined <!-- -->~<!-- -->100% state size progress and nearly 100% branch
sync progress.</p><p><img loading="lazy" src="/docs/assets/images/image(64)-08dc4f39e5c66db897d66b586c5581d0.png" width="1920" height="1030" class="img_ev3q"></p><p><img loading="lazy" src="/docs/assets/images/image(62)-0a2d55653744c60e1f441c3a4996d694.png" width="1895" height="795" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="archive-sync">Archive Sync<a href="#archive-sync" class="hash-link" aria-label="Direct link to Archive Sync" title="Direct link to Archive Sync">​</a></h2><p>Archive sync is the &#x27;heaviest&#x27; and slowest sync mode but allows to ask questions like <em>&#x27;what was the balance of my
account 2 years ago?&#x27;</em>, <em>&#x27;how many XYZ token were held in SomeExchange custody in 2017?&#x27;</em>.</p><p>We have prepared default archive sync configurations and they can be launched from Nethermind Launcher (just choose the
archive options) or by simply loading appropriate config when launching <code>./Nethermind.Runner --config mainnet_archive</code></p><p><code>./Nethermind.Runner --config goerli_archive</code></p><p>While for some smaller networks archive sync can complete very quickly (in minutes or hours) mainnet sync would take 2 -
6 weeks depending on the speed of your IO (whether you use SSD or NVMe or depending on the cloud provider IOPS).
Database size in archive sync is the biggest from all modes as you will store all the historical data.</p><p><img loading="lazy" alt="Example of the archive sync logs" src="/docs/assets/images/image(58)-c9384f350dfd11adec8694dbfb73b52e.png" width="1920" height="1030" class="img_ev3q"></p><p><img loading="lazy" src="/docs/assets/images/image(57)-6779647766702b4a63d74e01bd27978a.png" width="1920" height="1030" class="img_ev3q"></p><p>Explanation of some data in the logs:</p><ul><li>at the beginning you may see a <em>&#x27;Waiting for peers...&#x27;</em> message while the node is trying to discover nodes that it can
sync with.</li><li><em>&#x27;Downloaded 1234/8000000&#x27;</em> shows the number of unprocessed blocks (with transactions) downloaded from the network.
For <code>mainnet</code>this value may be slower than processing at first but very quickly you will see blocks being downloaded
much faster than processed. Empty blocks can be as small as 512 bytes (just headers without transactions) and full
blocks with heavy transactions can reach a few hundred kilobytes. We display both current download speed (calculated
in the last second) and average (total) speed since starting the node.</li><li><em>&#x27;Processed ...&#x27;</em> displays the blocks that have been processed by the EVM. The first number shows the current head
block number, then you can see <code>mgasps</code> (million gas per second) - current and total, then <code>tps</code> (transactions per
second) - current and total, <code>bps</code> (blocks per second). Then <code>recv queue</code> (transactions signature public key recovery
queue), <code>proc queue</code> (processor queue). Both recovery queue and processor queue are designed so when too many blocks
are waiting for processing then only their hashes are kept in memory and remaining data are stored in the database.
Thus, the queues numbers that you can see will be capped by some number.</li><li><em>&#x27;Cache for epoch...&#x27;</em> informs about <code>ethash</code> cache needed for block seal verification (only on <code>mainnet</code>
and <code>ropsten</code>). Caches will be calculated every 30000 blocks (length of an epoch) but can also be calculated for the
latest blocks that are being broadcast on the network.</li><li>After the archive sync finishes you will see the <em>&#x27;Processed...&#x27;</em> message appearing on average every 15 seconds when
the new block is processed.</li><li><code>mgasps</code>, <code>tps</code>, <code>bps</code> values should not be treated as comparable as they may differ massively on different parts of
the chain. For example when blocks are empty you may see very high <code>bps</code> values with very low (or even zero) <code>tps</code>
and <code>mgasps</code> values as there are no transactions and no gas for EVM processing and blocks are very light. On the other
hand when blocks are filled with very heavy transactions then <code>bps</code> might be very low while <code>mgasps</code> will be very
high. It is even possible that you will see a lot of very light transactions where <code>tps</code> will be high while <code>bps</code>
and <code>mgasps</code> will be average.</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/NethermindEth/docs/tree/main/docs/docs/02-fundamentals/03-sync-modes.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/docs/fundamentals/running-nethermind/runtime"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Runtime</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/docs/fundamentals/configuration"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Configuration</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#there-are-three-main-synchronization-modes" class="table-of-contents__link toc-highlight">There are three main synchronization modes</a></li><li><a href="#snap-sync" class="table-of-contents__link toc-highlight">Snap Sync</a></li><li><a href="#fast-sync" class="table-of-contents__link toc-highlight">Fast Sync</a></li><li><a href="#archive-sync" class="table-of-contents__link toc-highlight">Archive Sync</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/">Docs</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.com/invite/PaCMRFdvWT" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/nethermindeth" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/NethermindEth/nethermind" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Nethermind. Built with Docusaurus.</div></div></div></footer></div>
<script src="/docs/assets/js/runtime~main.67a1c494.js"></script>
<script src="/docs/assets/js/main.6b78a1aa.js"></script>
</body>
</html>