<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-1.25.4 docs-doc-page docs-doc-id-fundamentals/sync" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">Sync | Nethermind documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://github.com/NethermindEth/docs/assets/35319980/163ba000-69b1-45c6-86eb-e8c53109839f"><meta data-rh="true" name="twitter:image" content="https://github.com/NethermindEth/docs/assets/35319980/163ba000-69b1-45c6-86eb-e8c53109839f"><meta data-rh="true" property="og:url" content="https://docs.nethermind.io/1.25.4/fundamentals/sync"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="1.25.4"><meta data-rh="true" name="docusaurus_tag" content="docs-default-1.25.4"><meta data-rh="true" name="docsearch:version" content="1.25.4"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-1.25.4"><meta data-rh="true" property="og:title" content="Sync | Nethermind documentation"><meta data-rh="true" name="description" content="This article is outdated and requires a revision."><meta data-rh="true" property="og:description" content="This article is outdated and requires a revision."><link data-rh="true" rel="icon" href="/img/favicon.svg"><link data-rh="true" rel="canonical" href="https://docs.nethermind.io/1.25.4/fundamentals/sync"><link data-rh="true" rel="alternate" href="https://docs.nethermind.io/1.25.4/fundamentals/sync" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.nethermind.io/1.25.4/fundamentals/sync" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://4I20VAM8JS-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Nethermind documentation" href="/opensearch.xml">

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="crossorigin">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=DM+Mono:ital,wght@0,300;0,400;0,500;1,300;1,400;1,500&amp;family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700;1,9..40,300;1,9..40,400;1,9..40,500;1,9..40,600;1,9..40,700&amp;family=Exo:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&amp;display=swap"><link rel="stylesheet" href="/assets/css/styles.6cc8efa7.css">
<script src="/assets/js/runtime~main.b0f26481.js" defer="defer"></script>
<script src="/assets/js/main.e67f3738.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" target="_self" href="/"><div class="navbar__logo"><img src="/img/logo_dark.svg" alt="Nethermind" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo_light.svg" alt="Nethermind" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/1.25.4/fundamentals/sync">1.25.4</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/next/fundamentals/sync">Next</a></li><li><a class="dropdown__link" href="/fundamentals/sync">1.29.0</a></li><li><a class="dropdown__link" href="/1.28.0/fundamentals/sync">1.28.0</a></li><li><a class="dropdown__link" href="/1.27.0/fundamentals/sync">1.27.0</a></li><li><a class="dropdown__link" href="/1.26.0/fundamentals/sync">1.26.0</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/1.25.4/fundamentals/sync">1.25.4</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://github.com/NethermindEth/nethermind" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-social-link header-github-icon" aria-label="GitHub"></a><a href="https://discord.com/invite/PaCMRFdvWT" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-social-link header-discord-icon" aria-label="Discord"></a><a href="https://x.com/NethermindEth" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-social-link header-x-icon" aria-label="X"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/1.25.4/">Get started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/1.25.4/fundamentals/configuration">Fundamentals</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/1.25.4/fundamentals/configuration">Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/1.25.4/fundamentals/sync">Sync</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/1.25.4/fundamentals/security">Security</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/1.25.4/fundamentals/logs">Logs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/1.25.4/fundamentals/database">Database</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/1.25.4/fundamentals/pruning">Pruning</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/1.25.4/fundamentals/performance-tuning">Performance tuning</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/1.25.4/fundamentals/private-networks">Private networks</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/1.25.4/interacting/json-rpc-server">Interacting with Nethermind</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/1.25.4/monitoring/metrics/">Monitoring</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/1.25.4/validators/">Validators</a><button aria-label="Expand sidebar category &#x27;Validators&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/1.25.4/developers/building-from-source">Developers</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/1.25.4/faq">FAQ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/1.25.4/troubleshooting">Troubleshooting</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->Nethermind documentation<!-- --> <b>1.25.4</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/fundamentals/sync">latest version</a></b> (<!-- -->1.29.0<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Fundamentals</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Sync</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 1.25.4</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Sync</h1></header><div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>This article is outdated and requires a revision.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="there-are-three-main-synchronization-modes">There are three main synchronization modes<a href="#there-are-three-main-synchronization-modes" class="hash-link" aria-label="Direct link to There are three main synchronization modes" title="Direct link to There are three main synchronization modes">​</a></h2>
<ul>
<li>snap sync<!-- -->
<ul>
<li>the fastest way to sync to the network (syncs to mainnet in ~3 hours)</li>
<li>downloads only the latest state, headers, and optionally bodies and receipts</li>
</ul>
</li>
<li>fast sync<!-- -->
<ul>
<li>slower than snap sync</li>
<li>useful on nethermind-only chains (like Gnosis), where snap sync is not available for now</li>
<li>downloads only the latest state, headers, and optionally bodies and receipts</li>
</ul>
</li>
<li>archive sync<!-- -->
<ul>
<li>heavy historical sync verifying all the transactions and keeping all the historical state</li>
<li>you can run it like this <code>./Nethermind.Runner --config mainnet_archive</code></li>
</ul>
</li>
</ul>
<table><thead><tr><th>Sync Mode</th><th>Disk Space needed</th><th>Full current state</th><th>Full current and all historical states</th><th>Can sync a full archive node from this</th><th>Time to sync</th><th>Time to RPC</th></tr></thead><tbody><tr><td>archive</td><td>~12TB</td><td>YES</td><td>YES</td><td>YES</td><td>~3 weeks</td><td>~3 weeks</td></tr><tr><td>snap/fast sync with all bodies and receipts</td><td>~800GB</td><td>YES</td><td>NO</td><td>YES</td><td>~20 hours</td><td>~20 hours</td></tr><tr><td>default snap/fast sync (with barriers set to support Eth2)</td><td>~500GB</td><td>YES</td><td>NO</td><td>NO</td><td>~11 hours</td><td>~11 hours</td></tr><tr><td>snap/fast sync without receipts</td><td>~450GB</td><td>YES</td><td>NO</td><td>YES</td><td>~12 hours</td><td>~12 hours</td></tr><tr><td>snap/fast sync without bodies and receipts</td><td>~200GB</td><td>YES</td><td>NO</td><td>NO</td><td>~9 hours</td><td>~9 hours</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="snap-sync">Snap Sync<a href="#snap-sync" class="hash-link" aria-label="Direct link to Snap Sync" title="Direct link to Snap Sync">​</a></h2>
<p>Snap sync allows a node to perform the initial synchronization and download of Ethereum’s state up to 10 times faster
than using fast sync.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-enable">How to Enable<a href="#how-to-enable" class="hash-link" aria-label="Direct link to How to Enable" title="Direct link to How to Enable">​</a></h4>
<p>Snap sync is enabled by default for majority of networks. To make sure, check if<code>SnapSync</code> is set to <code>true</code> in the Sync
module of your <code>.cfg</code> file</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&quot;Sync&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	&quot;SnapSync&quot;: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p><strong>IMPORTANT</strong>: Do not enable snap sync on a previously synced node. Only use when syncing to the network for the first
time.</p>
<p><strong>IMPORTANT</strong>: Do not remove other configurations from Sync module. Just add <code>&quot;SnapSync&quot;: true</code>, e.g.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&quot;Sync&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	&quot;SnapSync&quot;: true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	&quot;PivotNumber&quot;: 15011000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;PivotHash&quot;: &quot;0x46c838d02d5fa5bc070080ed7965da1d888f6eb1797045365407c7011280af56&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    	&quot;PivotTotalDifficulty&quot;: &quot;52367203434576253689712&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    	&quot;FastBlocks&quot;: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</blockquote>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="snap-sync-vs-other-sync-modes">Snap Sync vs Other Sync Modes<a href="#snap-sync-vs-other-sync-modes" class="hash-link" aria-label="Direct link to Snap Sync vs Other Sync Modes" title="Direct link to Snap Sync vs Other Sync Modes">​</a></h4>
<p>More than 12TB of storage is needed today to run a full archive node — one that stores all the state since genesis.
Because of that, setting up an archive node can take days or even weeks. Fast Sync can still take more than 24 hours on
the fast machine and download about 90GB state data. With Snap Sync, sync time is reduced to 2-3h with a download of
about 30GB.</p>
<p>This reduction in sync time and download size has to do with the specific way in which Ethereum’s state is stored in a
node: Merkle trees.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/Untitled(1)-e656672bbe5916256187472154cefdbf.png" width="1168" height="939" class="img_ev3q"></p>
<p>With Fast Sync, a node downloads the headers of each block and retrieves all the nodes beneath it until it reaches the
leaves. By contrast, Snap Sync only downloads the leaf nodes, generating the remaining nodes locally which saves time
and packets downloaded.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="current-limitations-and-future-development">Current limitations and future development<a href="#current-limitations-and-future-development" class="hash-link" aria-label="Direct link to Current limitations and future development" title="Direct link to Current limitations and future development">​</a></h4>
<p>For now Snap Sync on the Nethermind client can only download the Ethereum state but not serve it to other clients - snap
serving development is in progress, expected late 2023/early 2024.</p>
<p>The only Ethereum client that supports serving Snap Sync requests is Geth, so only networks supported by Geth can be
synced using that method: Mainnet, Goerli, Sepolia.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="fast-sync">Fast Sync<a href="#fast-sync" class="hash-link" aria-label="Direct link to Fast Sync" title="Direct link to Fast Sync">​</a></h2>
<p>After completing the fast sync your node will have the ability to answer questions like <em>&#x27;what is my account
balance <strong>now</strong>&#x27;</em>, <em>&#x27;how many XYZ tokens SomeExchange holds <strong>at the moment</strong>&#x27;</em>.</p>
<p>Fast sync has multiple stages. Nethermind uses a <code>pivot block</code> number to improve fast sync performance.
The <code>pivot block</code> data is automatically updated after initialization of the client and consists of
the <code>block number</code>, <code>block hash</code> and <code>block total difficulty</code> (please note that <code>total difficulty</code> is different
than <code>difficulty</code>). Before synchronizing state data Nethermind synchronizes in two directions - backwards
from <code>pivot block</code> to 0 for headers and forward to the head of the chain for headers, blocks and receipts. Forward sync
might be very slow (5 - 50 bps) so having fresh pivot block is very important - it is guaranteed by recently implemented
auto-update.</p>
<p>After downloading the block data Nethermind will start state sync (downloading the latest state trie nodes). We are
providing an estimate for the download size and progress but the real value may be different than the estimate (
especially if you are using an old version of Nethermind as we sometimes manually adjust the estimator based on our
observations of the chain growth rate). Because of this sometimes your sync may continue even when it shows ~100%
finished. The other important component is the speed of your sync - if your IO / network / file system causes the state
sync to go much slower than around 1.5MB per second on average then you will start downloading some parts of the trie
over and over again. In such cases you may be surprised to see something like 58000MB / 53000MB (100%). It means that
you downloaded around 5GB of data that is no longer needed. If your sync is very slow (extended beyond two days) then
very likely your setup cannot catch up with the chain progress.</p>
<p>After the state sync finishes you will see the <em>&#x27;Processed...&#x27;</em> messages like in archive sync - it means that your node
is in sync and is processing the latest blocks.</p>
<p>Mainnet sync, at the time of writing (December 2020), takes around 8 hours on an UpCloud 16GB RAM 8 CPU $40 VM (and then
syncs receipts and bodies in the background if you enabled them in the configuration). Goerli sync should take around 40
minutes.</p>
<p><img decoding="async" loading="lazy" alt="Fast sync logs example for mainnet." src="/assets/images/image(59)-e679a155889ccdf54fbff7695df20603.png" width="1920" height="1030" class="img_ev3q"></p>
<p>State sync log messages have multiple values displayed. First <code>dd.HH:mm:ss</code> total state sync time is displayed, followed
by an estimated sync progress (percentage of total database data synced), then the current download speed is displayed (
there will be times when it will slow down to 0 or single digit numbers, especially towards the end of the sync). In
general 6 hours sync times shown on screenshots are with around 2000 kB/s (kilobytes per second) average sync rate. You
can calculate it in the example as ~45GB / (2MB/s) ~ 22500 seconds ~6.25 hours. We also display the number of state
accounts synced, number of trie nodes synced and a diagnostic message in the format of <em>[number_of_pending_requests]
.[average time spent in response handler displayed as milliseconds]</em>. So <code>5.6.20ms</code> means that we are awaiting for
responses to 5 requests that have been sent to peers and the average time it takes us to process a single response is
6.20ms. The response handling times will differ depending on how many trie nodes are already cached (so they will be
significantly slower for a while after the node restart when cache has to be rebuilt) and based on how fast the database
IO is (SSD vs NVMe vs cloud drives). For a reasonable sync time you probably should expect these values to be below
15ms (but they may be as high as 700ms for a while after restarting the node).</p>
<p>A single restart of the node during the fast sync may extend the sync time by up to two hours because the node has to
rebuild the caches by reading millions of values from the database.</p>
<p>At the last stages of the sync the node will be repeatedly displaying the branch sync progress and changing the block
number to which it tries to catch up. This stage should take between 30 minutes and two hours. If it lasts much more
then it is possible that you will not be able to catch up with the network progress.</p>
<p>One of the best indicators that you are close to be synced is combined ~100% state size progress and nearly 100% branch
sync progress.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/image(64)-08dc4f39e5c66db897d66b586c5581d0.png" width="1920" height="1030" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" src="/assets/images/image(62)-0a2d55653744c60e1f441c3a4996d694.png" width="1895" height="795" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="archive-sync">Archive Sync<a href="#archive-sync" class="hash-link" aria-label="Direct link to Archive Sync" title="Direct link to Archive Sync">​</a></h2>
<p>Archive sync is the &#x27;heaviest&#x27; and slowest sync mode but allows to ask questions like <em>&#x27;what was the balance of my
account 2 years ago?&#x27;</em>, <em>&#x27;how many XYZ token were held in SomeExchange custody in 2017?&#x27;</em>.</p>
<p>We have prepared default archive sync configurations and they can be launched from Nethermind Launcher (just choose the
archive options) or by simply loading appropriate config when launching <code>./Nethermind.Runner --config mainnet_archive</code></p>
<p><code>./Nethermind.Runner --config goerli_archive</code></p>
<p>While for some smaller networks archive sync can complete very quickly (in minutes or hours) mainnet sync would take 2 -
6 weeks depending on the speed of your IO (whether you use SSD or NVMe or depending on the cloud provider IOPS).
Database size in archive sync is the biggest from all modes as you will store all the historical data.</p>
<p><img decoding="async" loading="lazy" alt="Example of the archive sync logs" src="/assets/images/image(58)-c9384f350dfd11adec8694dbfb73b52e.png" width="1920" height="1030" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" src="/assets/images/image(57)-6779647766702b4a63d74e01bd27978a.png" width="1920" height="1030" class="img_ev3q"></p>
<p>Explanation of some data in the logs:</p>
<ul>
<li>at the beginning you may see a <em>&#x27;Waiting for peers...&#x27;</em> message while the node is trying to discover nodes that it can
sync with.</li>
<li><em>&#x27;Downloaded 1234/8000000&#x27;</em> shows the number of unprocessed blocks (with transactions) downloaded from the network.
For <code>mainnet</code>this value may be slower than processing at first but very quickly you will see blocks being downloaded
much faster than processed. Empty blocks can be as small as 512 bytes (just headers without transactions) and full
blocks with heavy transactions can reach a few hundred kilobytes. We display both current download speed (calculated
in the last second) and average (total) speed since starting the node.</li>
<li><em>&#x27;Processed ...&#x27;</em> displays the blocks that have been processed by the EVM. The first number shows the current head
block number, then you can see <code>mgasps</code> (million gas per second) - current and total, then <code>tps</code> (transactions per
second) - current and total, <code>bps</code> (blocks per second). Then <code>recv queue</code> (transactions signature public key recovery
queue), <code>proc queue</code> (processor queue). Both recovery queue and processor queue are designed so when too many blocks
are waiting for processing then only their hashes are kept in memory and remaining data are stored in the database.
Thus, the queues numbers that you can see will be capped by some number.</li>
<li><em>&#x27;Cache for epoch...&#x27;</em> informs about <code>ethash</code> cache needed for block seal verification (only on <code>mainnet</code>
and <code>ropsten</code>). Caches will be calculated every 30000 blocks (length of an epoch) but can also be calculated for the
latest blocks that are being broadcast on the network.</li>
<li>After the archive sync finishes you will see the <em>&#x27;Processed...&#x27;</em> message appearing on average every 15 seconds when
the new block is processed.</li>
<li><code>mgasps</code>, <code>tps</code>, <code>bps</code> values should not be treated as comparable as they may differ massively on different parts of
the chain. For example when blocks are empty you may see very high <code>bps</code> values with very low (or even zero) <code>tps</code>
and <code>mgasps</code> values as there are no transactions and no gas for EVM processing and blocks are very light. On the other
hand when blocks are filled with very heavy transactions then <code>bps</code> might be very low while <code>mgasps</code> will be very
high. It is even possible that you will see a lot of very light transactions where <code>tps</code> will be high while <code>bps</code>
and <code>mgasps</code> will be average.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="sync-time">Sync time<a href="#sync-time" class="hash-link" aria-label="Direct link to Sync time" title="Direct link to Sync time">​</a></h2>
<p>Sync time heavily depends on the hardware used for the node, network speed, and peering. We are constantly pursuing to make it as fast as possible. Below is a brief on how the sync time looks on different machines and various chains (tested with Nethermind v1.21.0).</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">High-end VM</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Mid-end VM</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Old-spec VM</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><p>Hardware configuration:</p><ul>
<li>Cloud provider: Akamai (formerly Linode)</li>
<li>CPU: AMD EPYC 7601, 16 vCPU</li>
<li>Memory: 64 GB</li>
<li>Storage: 1.2 TB, ~40k IOPS</li>
</ul><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Mainnet</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Goerli</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Sepolia</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Gnosis</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Chiado</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><p>The high-level data on major sync milestones:</p><ul>
<li><strong>Attestation time:</strong> 2h 3m</li>
<li><strong>Full sync time:</strong> 7h 3m</li>
</ul><p>The detailed breakdown of sync stages:</p><ul>
<li><strong>Snap sync phase 1:</strong> 1h 58m</li>
<li><strong>State sync:</strong> 4m</li>
<li><strong>Old headers:</strong> 1h 27m</li>
<li><strong>Old bodies:</strong> 1h 55m</li>
<li><strong>Old receipts:</strong> 3h 2m</li>
</ul></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>The high-level data on major sync milestones:</p><ul>
<li><strong>Attestation time:</strong> 2h 49m</li>
<li><strong>Full sync time:</strong> 4h 58m</li>
</ul><p>The detailed breakdown of sync stages:</p><ul>
<li><strong>Snap sync phase 1:</strong> 2h 49m</li>
<li><strong>State sync:</strong> 0.5m</li>
<li><strong>Old headers:</strong> 11m</li>
<li><strong>Old bodies:</strong> 1h 2m</li>
<li><strong>Old receipts:</strong> 1h 5m</li>
</ul></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>The high-level data on major sync milestones:</p><ul>
<li><strong>Attestation time:</strong> 8m</li>
<li><strong>Full sync time:</strong> 1h 9m</li>
</ul><p>The detailed breakdown of sync stages:</p><ul>
<li><strong>Snap sync phase 1:</strong> 8m</li>
<li><strong>State sync:</strong> 0.3m</li>
<li><strong>Old headers:</strong> 12m</li>
<li><strong>Old bodies:</strong> 21m</li>
<li><strong>Old receipts:</strong> 22m</li>
</ul></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>The high-level data on major sync milestones:</p><ul>
<li><strong>Attestation time:</strong> 13h 40m</li>
<li><strong>Full sync time:</strong> 17h 17m</li>
</ul><p>The detailed breakdown of sync stages:</p><ul>
<li><strong>State sync:</strong> 13h 40m</li>
<li><strong>Old headers:</strong> 1h 46m</li>
<li><strong>Old bodies:</strong> 1h 31m</li>
<li><strong>Old receipts:</strong> 2h 3m</li>
</ul></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>The high-level data on major sync milestones:</p><ul>
<li><strong>Attestation time:</strong> 20m</li>
<li><strong>Full sync time:</strong> 40m</li>
</ul><p>The detailed breakdown of sync stages:</p><ul>
<li><strong>State sync:</strong> 20m</li>
<li><strong>Old headers:</strong> 11m</li>
<li><strong>Old bodies:</strong> 8m</li>
<li><strong>Old receipts:</strong> 10m</li>
</ul></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>Hardware configuration:</p><ul>
<li>Cloud provider: AWS</li>
<li><a href="https://aws.amazon.com/ec2/instance-types/c7g/" target="_blank" rel="noopener noreferrer">c7g.2xlarge</a>: 8 vCPU, 16 GiB memory</li>
<li>Storage: 1 TB, ~10k IOPS</li>
</ul><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Mainnet</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Goerli</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Sepolia</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Gnosis</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Chiado</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><p>The high-level data on major sync milestones:</p><ul>
<li><strong>Attestation time:</strong> 5h 55m</li>
<li><strong>Full sync time:</strong> 12h 37m</li>
</ul><p>The detailed breakdown of sync stages:</p><ul>
<li><strong>Snap sync phase 1:</strong> 4h 35m</li>
<li><strong>State sync:</strong> 1h 20m</li>
<li><strong>Old headers:</strong> 1h 43m</li>
<li><strong>Old bodies:</strong> 2h 13m</li>
<li><strong>Old receipts:</strong> 4h 28m</li>
</ul></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>The high-level data on major sync milestones:</p><ul>
<li><strong>Attestation time:</strong> 1h 32m</li>
<li><strong>Full sync time:</strong> 4h 10m</li>
</ul><p>The detailed breakdown of sync stages:</p><ul>
<li><strong>Snap sync phase 1:</strong> 1h 19m</li>
<li><strong>State sync:</strong> 12m</li>
<li><strong>Old headers:</strong> 23m</li>
<li><strong>Old bodies:</strong> 49m</li>
<li><strong>Old receipts:</strong> 1h 35m</li>
</ul></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>The high-level data on major sync milestones:</p><ul>
<li><strong>Attestation time:</strong> 17m</li>
<li><strong>Full sync time:</strong> 1h 3m</li>
</ul><p>The detailed breakdown of sync stages:</p><ul>
<li><strong>Snap sync phase 1:</strong> 13m</li>
<li><strong>State sync:</strong> 4m</li>
<li><strong>Old headers:</strong> 15m</li>
<li><strong>Old bodies:</strong> 19m</li>
<li><strong>Old receipts:</strong> 29m</li>
</ul></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>The high-level data on major sync milestones:</p><ul>
<li><strong>Attestation time:</strong> 15h 54m</li>
<li><strong>Full sync time:</strong> 18h 28m</li>
</ul><p>The detailed breakdown of sync stages:</p><ul>
<li><strong>State sync:</strong> 15h 54m</li>
<li><strong>Old headers:</strong> 1h 4m</li>
<li><strong>Old bodies:</strong> 40m</li>
<li><strong>Old receipts:</strong> 1h 52m</li>
</ul></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>The high-level data on major sync milestones:</p><ul>
<li><strong>Attestation time:</strong> 13m</li>
<li><strong>Full sync time:</strong> 25m</li>
</ul><p>The detailed breakdown of sync stages:</p><ul>
<li><strong>State sync:</strong> 13m</li>
<li><strong>Old headers:</strong> 12m</li>
<li><strong>Old bodies:</strong> 5m</li>
<li><strong>Old receipts:</strong> 5m</li>
</ul></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>Hardware configuration:</p><ul>
<li>Cloud provider: Scaleway</li>
<li>CPU: Intel Xeon Processor E5-2620 v2, 2 vCPU</li>
<li>Memory: 192 GB</li>
<li>Storage: 1 TB, ~44k IOPS</li>
</ul><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Mainnet</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Goerli</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Sepolia</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Gnosis</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Chiado</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Energy Web</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Volta</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><p>The high-level data on major sync milestones:</p><ul>
<li><strong>Attestation time:</strong> 5h 55m</li>
<li><strong>Full sync time:</strong> 17h 1m</li>
</ul><p>The detailed breakdown of sync stages:</p><ul>
<li><strong>Snap sync phase 1:</strong> 4h 29m</li>
<li><strong>State sync:</strong> 25m</li>
<li><strong>Old headers:</strong> 1h 27m</li>
<li><strong>Old bodies:</strong> 3h 39m</li>
<li><strong>Old receipts:</strong> 8h 3m</li>
</ul></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>The high-level data on major sync milestones:</p><ul>
<li><strong>Attestation time:</strong> 1h 51m</li>
<li><strong>Full sync time:</strong> 5h 55m</li>
</ul><p>The detailed breakdown of sync stages:</p><ul>
<li><strong>Snap sync phase 1:</strong> 1h 40m</li>
<li><strong>State sync:</strong> 11m</li>
<li><strong>Old headers:</strong> 50m</li>
<li><strong>Old bodies:</strong> 1h 34m</li>
<li><strong>Old receipts:</strong> 2h 14m</li>
</ul></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>The high-level data on major sync milestones:</p><ul>
<li><strong>Attestation time:</strong> 16m</li>
<li><strong>Full sync time:</strong> 2h 9m</li>
</ul><p>The detailed breakdown of sync stages:</p><ul>
<li><strong>Snap sync phase 1:</strong> 15m</li>
<li><strong>State sync:</strong> 1m</li>
<li><strong>Old headers:</strong> 26m</li>
<li><strong>Old bodies:</strong> 45m</li>
<li><strong>Old receipts:</strong> 56m</li>
</ul></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>The high-level data on major sync milestones:</p><ul>
<li><strong>Attestation time:</strong> 15h 13m</li>
<li><strong>Full sync time:</strong> 17h 30m</li>
</ul><p>The detailed breakdown of sync stages:</p><ul>
<li><strong>State sync:</strong> 15h 13m</li>
<li><strong>Old headers:</strong> 3h 8m</li>
<li><strong>Old bodies:</strong> 50m</li>
<li><strong>Old receipts:</strong> 1h 25m</li>
</ul></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>The high-level data on major sync milestones:</p><ul>
<li><strong>Attestation time:</strong> 20m</li>
<li><strong>Full sync time:</strong> 40m</li>
</ul><p>The detailed breakdown of sync stages:</p><ul>
<li><strong>State sync:</strong> 4m</li>
<li><strong>Old headers:</strong> 1h 27m</li>
<li><strong>Old bodies:</strong> 1h 55m</li>
<li><strong>Old receipts:</strong> 3h 2m</li>
</ul></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>The detailed breakdown of sync stages:</p><ul>
<li><strong>State sync:</strong> 13h 7m</li>
<li><strong>Old headers:</strong> 2h 32m</li>
<li><strong>Old bodies:</strong> 51m</li>
<li><strong>Old receipts:</strong> 1h 11m</li>
<li><strong>Full sync time:</strong> 15h 20m</li>
</ul></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>The detailed breakdown of sync stages:</p><ul>
<li><strong>State sync:</strong> 14h 27m</li>
<li><strong>Old headers:</strong> 2h 42m</li>
<li><strong>Old bodies:</strong> 40m</li>
<li><strong>Old receipts:</strong> 58m</li>
<li><strong>Full sync time:</strong> 16h 10m</li>
</ul></div></div></div></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="resync-a-node-from-scratch">Resync a node from scratch<a href="#resync-a-node-from-scratch" class="hash-link" aria-label="Direct link to Resync a node from scratch" title="Direct link to Resync a node from scratch">​</a></h2>
<p>This guide explains how to resync a Nethermind node using the existing Pivot block or updating it to a more recent one.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="steps-to-resync-a-nethermind-node">Steps to Resync a Nethermind Node<a href="#steps-to-resync-a-nethermind-node" class="hash-link" aria-label="Direct link to Steps to Resync a Nethermind Node" title="Direct link to Steps to Resync a Nethermind Node">​</a></h3>
<ol>
<li><strong>Stop the Nethermind node</strong>: If your Nethermind node is currently running, stop it to ensure that no new data is
being written to the database during the resync process.</li>
<li><strong>Delete the existing database</strong>: Navigate to the Nethermind data directory. The location of this directory depends
on how Nethermind was installed and your configuration settings. Inside the data directory, find the <code>nethermind_db</code>
folder and delete the <code>mainnet</code> subfolder to remove the existing database for the mainnet.</li>
<li><strong>Update the configuration file (optional)</strong>: If you want to change any configuration settings before resyncing the
node, edit the <code>mainnet.cfg</code> file located in the Nethermind directory. For example, you might want to adjust the
pruning settings or specify a different network.</li>
<li><strong>Update the Pivot block (optional)</strong>\<!-- -->
<div class="theme-admonition theme-admonition-danger admonition_xJq3 alert alert--danger"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_BuS1"><p><strong>Only for versions before 1.19.0 where Auto-Pivot approach was introduced</strong></p></div></div>
<ol>
<li>
<p><strong>Using Etherscan</strong>: If you want to speed up the syncing process, you can update the Pivot block to a more recent
one. To do this, find the <code>Sync</code> section in the <code>mainnet.cfg</code> file and update the <code>PivotNumber</code> and <code>PivotHash</code>
fields to match a recent &quot;finalized&quot; block number and its corresponding hash. You can obtain this information from
a block explorer such as <a href="https://etherscan.io/" target="_blank" rel="noopener noreferrer">Etherscan</a>.<br>
<br>
<!-- -->Using block number 17165278 from <a href="https://etherscan.io/block/17165278" target="_blank" rel="noopener noreferrer">Etherscan</a>:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  { </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 	 &quot;PivotNumber&quot;: 17165278,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 	 &quot;PivotHash&quot;: &quot;0xa665315efd923f3b11215feee09a9d3e13c5e6ee602fa19b642824682ec0a752&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><strong>Using Nethermind&#x27;s GitHub</strong>: Alternatively, you can update the Pivot block by referring to
the <a href="https://github.com/NethermindEth/nethermind/blob/master/src/Nethermind/Nethermind.Runner/configs/mainnet.cfg" target="_blank" rel="noopener noreferrer">Nethermind&#x27;s mainnet.cfg file on GitHub</a>.
The Pivot block is periodically bumped to the HEAD-8192 block of the mainnet chain. Copy the <code>PivotNumber</code>
and <code>PivotHash</code> values from the GitHub file and update your local <code>mainnet.cfg</code> file accordingly.</p>
</li>
</ol>
</li>
<li><strong>Restart the Nethermind node</strong>: Start the Nethermind node again to initiate the resync process. The node will begin
syncing from the existing Pivot block or the specified updated Pivot block, downloading and processing all the blocks
in the blockchain.</li>
</ol>
<p>To ensure that your Nethermind node is resyncing, you can monitor the logs for the node&#x27;s progress. The logs will
display information about the block processing, synchronization status and <code>OldHeaders</code> being processed. By observing
the increasing block numbers and synchronization messages in the logs, you can confirm that the resync process is active
and working as expected.</p>
<blockquote>
<p>Old Headers 0 / 17154000 | queue 0 | current 0.00bps | total 0.00bps</p>
<p>Old Headers 768 / 17154000 | queue 0 | current 766.07bps | total 762.49bps</p>
<p>Beacon Headers from block 17154001 to block 17169722 | 960 / 15722 | queue 4992 | current 0.00bps | total
40622848.83bps</p>
<p>Old Headers 9024 / 17154000 | queue 0 | current 576.40bps | total 1286.40bps</p>
<p>Beacon Headers from block 17154001 to block 17169723 | 9024 / 15723 | queue 6698 | current 2694.81bps | total
3882943.63bps<br>
<!-- -->Downloaded 17154031 / 17172359 | current 0.00bps | total 0.00bps</p>
<p>Downloaded 17154062 / 17169724 | current 0.00bps | total 2.88bps</p>
</blockquote>
<p>Keep in mind that resyncing a Nethermind node can take a considerable amount of time. It depends on your hardware,
internet connection, and the size of the blockchain.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/NethermindEth/docs/tree/main/versioned_docs/version-1.25.4/fundamentals/sync.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-10-23T19:16:20.000Z" itemprop="dateModified">Oct 23, 2024</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/1.25.4/fundamentals/configuration"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Configuration</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/1.25.4/fundamentals/security"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Security</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#there-are-three-main-synchronization-modes" class="table-of-contents__link toc-highlight">There are three main synchronization modes</a></li><li><a href="#snap-sync" class="table-of-contents__link toc-highlight">Snap Sync</a></li><li><a href="#fast-sync" class="table-of-contents__link toc-highlight">Fast Sync</a></li><li><a href="#archive-sync" class="table-of-contents__link toc-highlight">Archive Sync</a></li><li><a href="#sync-time" class="table-of-contents__link toc-highlight">Sync time</a></li><li><a href="#resync-a-node-from-scratch" class="table-of-contents__link toc-highlight">Resync a node from scratch</a><ul><li><a href="#steps-to-resync-a-nethermind-node" class="table-of-contents__link toc-highlight">Steps to Resync a Nethermind Node</a></li></ul></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>